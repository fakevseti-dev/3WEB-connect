<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Trust Tap</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background: #0a0f1a;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 12px;
        }

        .game-container {
            max-width: 420px;
            width: 100%;
            background: #131c2b;
            border-radius: 32px;
            padding: 20px 16px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.8);
            border: 1px solid #2a3a55;
        }

        /* –ë–∞–ª–∞–Ω—Å */
        .balance-card {
            background: #1e2a3a;
            border-radius: 40px;
            padding: 14px 20px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #3a4a6a;
            box-shadow: 0 6px 0 #0f1a2a;
        }

        .balance-content {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .usdt-badge {
            background: #26a17b;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            box-shadow: 0 4px 0 #1a5a4a;
        }

        .usdt-text {
            font-size: 18px;
            font-weight: 600;
            color: white;
        }

        .balance-number {
            font-size: 20px;
            font-weight: 700;
            color: white;
            background: #2a3a55;
            padding: 4px 12px;
            border-radius: 30px;
            border: 1px solid #4a6a9a;
        }

        /* –ï–Ω–µ—Ä–≥—ñ—è */
        .energy-card {
            background: #1e2a3a;
            border-radius: 30px;
            padding: 12px 16px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid #3a4a6a;
            box-shadow: 0 4px 0 #0f1a2a;
        }

        .energy-left {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .bolt-icon {
            font-size: 22px;
        }

        .energy-number {
            font-size: 18px;
            font-weight: 700;
            color: white;
        }

        .energy-bar-bg {
            width: 120px;
            height: 8px;
            background: #2a3a55;
            border-radius: 10px;
            overflow: hidden;
        }

        .energy-bar-fill {
            height: 100%;
            width: 100%;
            background: linear-gradient(90deg, #6a9aff, #3a6aff);
            border-radius: 10px;
        }

        .regen-text {
            color: #aaccff;
            font-size: 13px;
        }

        /* –¢–∞–ø-–∑–æ–Ω–∞ */
        .tap-value {
            text-align: center;
            color: #aaccff;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .tap-circle {
            display: flex;
            justify-content: center;
            margin: 10px 0 20px;
        }

        .coin {
            width: 200px;
            height: 200px;
            background: radial-gradient(circle at 30% 30%, #3a6aff, #1a3a8a);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 4px solid #6a9aff;
            box-shadow: 0 15px 0 #0a1a4a, 0 20px 30px rgba(0,0,0,0.8);
            cursor: pointer;
            transition: 0.1s;
        }

        .coin:active {
            transform: scale(0.95);
            box-shadow: 0 8px 0 #0a1a4a, 0 15px 25px rgba(0,0,0,0.8);
        }

        .coin-letter {
            font-size: 80px;
            font-weight: 900;
            color: white;
            text-shadow: 0 4px 0 #0a1a4a, 0 0 30px #6a9aff;
        }

        /* –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞ –∫–Ω–æ–ø–∫–∞ */
        .referral-button {
            background: #1e2a3a;
            border-radius: 30px;
            padding: 14px 18px;
            margin: 16px 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid #3a4a6a;
            box-shadow: 0 4px 0 #0f1a2a;
            cursor: pointer;
        }

        .referral-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .referral-left span:first-child {
            font-size: 24px;
        }

        .referral-left span:last-child {
            color: white;
            font-weight: 500;
        }

        .referral-right {
            background: #2a4a8a;
            padding: 6px 16px;
            border-radius: 30px;
            color: white;
            font-weight: 600;
            font-size: 14px;
            border: 1px solid #4a6a9a;
        }

        /* –†–∞–Ω–≥ —Ç–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–∏ */
        .stats-row {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: #1e2a3a;
            border-radius: 30px;
            padding: 12px 16px;
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid #3a4a6a;
            box-shadow: 0 4px 0 #0f1a2a;
            cursor: pointer;
        }

        .stat-left {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stat-left span:first-child {
            font-size: 22px;
        }

        .stat-left span:last-child {
            color: #aaccff;
            font-size: 15px;
        }

        .stat-value {
            color: white;
            font-weight: 600;
            font-size: 15px;
        }

        /* –°–µ–∫—Ü—ñ—è –£–ª—É—á—à–µ–Ω–∏—è */
        .section {
            background: #162230;
            border-radius: 24px;
            padding: 16px;
            margin: 16px 0;
            border: 1px solid #2a4a7a;
            box-shadow: 0 4px 0 #0f1a2a;
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 14px;
        }

        .section-title span:first-child {
            font-size: 22px;
        }

        .section-title span:last-child {
            color: white;
            font-size: 18px;
            font-weight: 700;
        }

        .upgrade-item {
            background: #1e2e42;
            border-radius: 20px;
            padding: 12px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid #3a5a7a;
        }

        .upgrade-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .upgrade-left span:first-child {
            font-size: 24px;
        }

        .upgrade-info span:first-child {
            color: white;
            font-weight: 600;
            font-size: 15px;
        }

        .upgrade-info span:last-child {
            color: #aaccff;
            font-size: 12px;
        }

        .upgrade-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .upgrade-value {
            color: white;
            font-weight: 700;
            font-size: 15px;
        }

        .upgrade-button {
            background: #3a6aff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 30px;
            font-weight: 600;
            font-size: 13px;
            box-shadow: 0 3px 0 #1a3a8a;
            cursor: pointer;
        }

        .upgrade-button:active {
            transform: translateY(2px);
            box-shadow: 0 1px 0 #1a3a8a;
        }

        /* –°–µ–∫—Ü—ñ—è –ó–∞–¥–∞–Ω–∏—è */
        .task-item {
            background: #1e2e42;
            border-radius: 20px;
            padding: 14px 16px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid #3a5a7a;
        }

        .task-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .task-left span:first-child {
            font-size: 22px;
        }

        .task-left span:last-child {
            color: white;
            font-weight: 500;
            font-size: 15px;
        }

        .task-button {
            background: #3a6aff;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 30px;
            font-weight: 600;
            font-size: 13px;
            box-shadow: 0 3px 0 #1a3a8a;
            cursor: pointer;
        }

        .task-button:active {
            transform: translateY(2px);
            box-shadow: 0 1px 0 #1a3a8a;
        }

        .task-button.disabled {
            background: #4a5a6a;
            box-shadow: 0 3px 0 #2a3a4a;
            opacity: 0.7;
        }

        .notice {
            text-align: center;
            color: #6a8aaf;
            font-size: 12px;
            margin-top: 20px;
            border-top: 1px dashed #2a4a6a;
            padding-top: 16px;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- –ë–∞–ª–∞–Ω—Å -->
        <div class="balance-card">
            <div class="balance-content">
                <div class="usdt-badge">‚ÇÆ</div>
                <span class="usdt-text">USDT</span>
                <span class="balance-number" id="balanceDisplay">10.500000</span>
            </div>
        </div>

        <!-- –ï–Ω–µ—Ä–≥—ñ—è -->
        <div class="energy-card">
            <div class="energy-left">
                <span class="bolt-icon">‚ö°</span>
                <span class="energy-number" id="energyDisplay">1000</span>
            </div>
            <div class="energy-bar-bg">
                <div class="energy-bar-fill" id="energyBarFill" style="width: 100%;"></div>
            </div>
            <span class="regen-text" id="regenTip">+1/—Å–µ–∫</span>
        </div>

        <!-- –¢–∞–ø –∑–æ–Ω–∞ -->
        <div class="tap-value" id="tapValueDisplay">0.000200 USDT –∑–∞ —Ç–∞–ø</div>
        
        <div class="tap-circle" id="tapButton">
            <div class="coin">
                <span class="coin-letter">T</span>
            </div>
        </div>

        <!-- –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞ –∫–Ω–æ–ø–∫–∞ -->
        <div class="referral-button" id="referralBtn">
            <div class="referral-left">
                <span>üíé</span>
                <span>–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞</span>
            </div>
            <div class="referral-right">+500 ‚ö° +10%</div>
        </div>

        <!-- –†–∞–Ω–≥ —Ç–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–∏ -->
        <div class="stats-row">
            <div class="stat-card" id="rankCard">
                <div class="stat-left">
                    <span>üèÜ</span>
                    <span>–†–∞–Ω–≥</span>
                </div>
                <span class="stat-value">–±—Ä–æ–Ω–∑–∞</span>
            </div>
            <div class="stat-card" id="referralsCard">
                <div class="stat-left">
                    <span>üë•</span>
                    <span>–†–µ—Ñ–µ—Ä–∞–ª—ã</span>
                </div>
                <span class="stat-value" id="refCount">0</span>
            </div>
        </div>

        <!-- –°–µ–∫—Ü—ñ—è –£–ª—É—á—à–µ–Ω–∏—è -->
        <div class="section">
            <div class="section-title">
                <span>‚ö°</span>
                <span>–£–ª—É—á—à–µ–Ω–∏—è</span>
            </div>

            <!-- –£—Ä–æ–Ω –∑–∞ –∫–ª–∏–∫ -->
            <div class="upgrade-item">
                <div class="upgrade-left">
                    <span>‚öîÔ∏è</span>
                    <div class="upgrade-info">
                        <span>–£—Ä–æ–Ω –∑–∞ –∫–ª–∏–∫</span>
                        <span id="damageLevel">—É—Ä. 1</span>
                    </div>
                </div>
                <div class="upgrade-right">
                    <span class="upgrade-value" id="damageValue">1.0x</span>
                    <button class="upgrade-button" data-type="damage" id="upgradeDamageBtn">–£–ª—É—á—à–∏—Ç—å</button>
                </div>
            </div>

            <!-- –Å–º–∫–æ—Å—Ç—å —ç–Ω–µ—Ä–≥–∏–∏ -->
            <div class="upgrade-item">
                <div class="upgrade-left">
                    <span>üîã</span>
                    <div class="upgrade-info">
                        <span>–Å–º–∫–æ—Å—Ç—å —ç–Ω–µ—Ä–≥–∏–∏</span>
                        <span id="capacityLevel">—É—Ä. 1</span>
                    </div>
                </div>
                <div class="upgrade-right">
                    <span class="upgrade-value" id="capacityValue">1000</span>
                    <button class="upgrade-button" data-type="capacity" id="upgradeCapacityBtn">–£–ª—É—á—à–∏—Ç—å</button>
                </div>
            </div>

            <!-- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ -->
            <div class="upgrade-item">
                <div class="upgrade-left">
                    <span>‚ö°</span>
                    <div class="upgrade-info">
                        <span>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</span>
                        <span id="recoveryLevel">—É—Ä. 1</span>
                    </div>
                </div>
                <div class="upgrade-right">
                    <span class="upgrade-value" id="recoveryValue">1.0/—Å–µ–∫</span>
                    <button class="upgrade-button" data-type="recovery" id="upgradeRecoveryBtn">–£–ª—É—á—à–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- –°–µ–∫—Ü—ñ—è –ó–∞–¥–∞–Ω–∏—è -->
        <div class="section">
            <div class="section-title">
                <span>üìã</span>
                <span>–ó–∞–¥–∞–Ω–∏—è</span>
            </div>

            <!-- –ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ –∫–∞–Ω–∞–ª -->
            <div class="task-item" id="taskSubscribe">
                <div class="task-left">
                    <span>üì∫</span>
                    <span>–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–∞–Ω–∞–ª</span>
                </div>
                <button class="task-button" data-task="subscribe">–°—Ç–∞—Ä—Ç</button>
            </div>

            <!-- –°–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∫–ª–∞–º—É -->
            <div class="task-item" id="taskAd">
                <div class="task-left">
                    <span>üì±</span>
                    <span>–°–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∫–ª–∞–º—É</span>
                </div>
                <button class="task-button" data-task="ad">–°–º–æ—Ç—Ä–µ—Ç—å</button>
            </div>

            <!-- –ö–≤–µ—Å—Ç –ø–æ —Ñ—å—é—á–µ—Ä—Å–∞–º -->
            <div class="task-item" id="taskFutures">
                <div class="task-left">
                    <span>üìà</span>
                    <span>–ö–≤–µ—Å—Ç –ø–æ —Ñ—å—é—á–µ—Ä—Å–∞–º</span>
                </div>
                <button class="task-button" data-task="futures">–°—Ç–∞—Ä—Ç</button>
            </div>

            <!-- –ö–≤–µ—Å—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ -->
            <div class="task-item" id="taskBlum">
                <div class="task-left">
                    <span>üåø</span>
                    <span>–ö–≤–µ—Å—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</span>
                </div>
                <button class="task-button disabled" data-task="blum" disabled>–°–∫–æ—Ä–æ</button>
            </div>
        </div>

        <div class="notice">
            Trust Wallet ¬∑ Tap to earn
        </div>
    </div>

    <script>
        (function() {
            // ========== –ö–û–ù–§–Ü–ì–£–†–ê–¶–Ü–Ø ==========
            const CONFIG = {
                baseTapValue: 0.0002,
                baseCapacity: 1000,
                baseRecovery: 1,
                
                upgradeMultipliers: {
                    damage: [1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0, 6.0],
                    capacity: [1.0, 1.3, 1.6, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0],
                    recovery: [1.0, 1.3, 1.6, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0]
                },
                
                upgradePrices: {
                    damage: [2.5, 5.0, 10.0, 20.0, 40.0, 80.0, 160.0, 320.0, 640.0, 1280.0],
                    capacity: [3.0, 6.0, 12.0, 24.0, 48.0, 96.0, 192.0, 384.0, 768.0, 1536.0],
                    recovery: [1.5, 3.0, 6.0, 12.0, 24.0, 48.0, 96.0, 192.0, 384.0, 768.0]
                },
                
                tasks: {
                    subscribe: 0.30,
                    ad: 0.10,
                    futures: 20.00
                }
            };

            // ========== –°–¢–ê–ù –ì–†–ê–í–¶–Ø ==========
            let player = {
                balance: 10.500000,
                
                damageLevel: 1,
                capacityLevel: 1,
                recoveryLevel: 1,
                
                energy: 1000,
                referrals: 0
            };

            // ========== –î–û–ü–û–ú–Ü–ñ–ù–Ü –§–£–ù–ö–¶–Ü–á ==========
            function formatMoney(value) {
                return parseFloat(value).toFixed(6);
            }

            function getTapValue() {
                const mult = CONFIG.upgradeMultipliers.damage[player.damageLevel - 1];
                return (CONFIG.baseTapValue * mult).toFixed(6);
            }

            function getMaxEnergy() {
                const mult = CONFIG.upgradeMultipliers.capacity[player.capacityLevel - 1];
                return Math.floor(CONFIG.baseCapacity * mult);
            }

            function getRecovery() {
                const mult = CONFIG.upgradeMultipliers.recovery[player.recoveryLevel - 1];
                return CONFIG.baseRecovery * mult;
            }

            function getUpgradePrice(type) {
                const level = player[`${type}Level`];
                if (level >= 10) return null;
                return CONFIG.upgradePrices[type][level - 1];
            }

            // ========== –û–ù–û–í–õ–ï–ù–ù–Ø –Ü–ù–¢–ï–†–§–ï–ô–°–£ ==========
            function updateUI() {
                document.getElementById('balanceDisplay').textContent = formatMoney(player.balance);
                document.getElementById('energyDisplay').textContent = Math.floor(player.energy);
                
                const maxEnergy = getMaxEnergy();
                document.getElementById('energyBarFill').style.width = `${(player.energy / maxEnergy) * 100}%`;
                document.getElementById('regenTip').textContent = `+${getRecovery().toFixed(1)}/—Å–µ–∫`;
                
                document.getElementById('tapValueDisplay').textContent = `${getTapValue()} USDT –∑–∞ —Ç–∞–ø`;
                document.getElementById('refCount').textContent = player.referrals;
                
                document.getElementById('damageLevel').textContent = `—É—Ä. ${player.damageLevel}`;
                document.getElementById('damageValue').textContent = `${CONFIG.upgradeMultipliers.damage[player.damageLevel-1].toFixed(1)}x`;
                
                document.getElementById('capacityLevel').textContent = `—É—Ä. ${player.capacityLevel}`;
                document.getElementById('capacityValue').textContent = getMaxEnergy();
                
                document.getElementById('recoveryLevel').textContent = `—É—Ä. ${player.recoveryLevel}`;
                document.getElementById('recoveryValue').textContent = `${getRecovery().toFixed(1)}/—Å–µ–∫`;
            }

            // ========== –¢–ê–ü ==========
            function handleTap() {
                if (player.energy < 1) {
                    alert('‚ö° –ù–µ—Ç —ç–Ω–µ—Ä–≥–∏–∏');
                    return;
                }
                
                const value = parseFloat(getTapValue());
                player.energy -= 1;
                player.balance = parseFloat((player.balance + value).toFixed(6));
                
                updateUI();
                
                if (navigator.vibrate) navigator.vibrate(20);
            }

            // ========== –ü–û–ö–£–ü–ö–ê –ê–ü–ì–†–ï–ô–î–£ ==========
            function buyUpgrade(type) {
                const level = player[`${type}Level`];
                
                if (level >= 10) {
                    alert('‚ùå –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å');
                    return;
                }
                
                const price = CONFIG.upgradePrices[type][level - 1];
                
                if (player.balance < price) {
                    const needed = (price - player.balance).toFixed(2);
                    alert(`‚ùå –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç ${needed} USDT`);
                    return;
                }
                
                if (confirm(`–ö—É–ø–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ –∑–∞ ${price.toFixed(2)} USDT?`)) {
                    player.balance = parseFloat((player.balance - price).toFixed(6));
                    player[`${type}Level`]++;
                    
                    if (type === 'capacity') {
                        player.energy = getMaxEnergy();
                    }
                    
                    updateUI();
                    alert('‚úÖ –£–ª—É—á—à–µ–Ω–æ!');
                }
            }

            // ========== –ó–ê–í–î–ê–ù–ù–Ø ==========
            function doTask(type) {
                const reward = CONFIG.tasks[type];
                
                if (type === 'ad' && player.adsWatched >= 10) {
                    alert('‚ùå –õ–∏–º–∏—Ç —Ä–µ–∫–ª–∞–º—ã –Ω–∞ —Å–µ–≥–æ–¥–Ω—è');
                    return;
                }
                
                if (type === 'ad') {
                    player.adsWatched = (player.adsWatched || 0) + 1;
                }
                
                player.balance = parseFloat((player.balance + reward).toFixed(6));
                updateUI();
                alert(`‚úÖ +${reward.toFixed(2)} USDT`);
            }

            // ========== –†–ï–§–ï–†–ê–õ ==========
            function handleReferral() {
                player.referrals++;
                player.energy = Math.min(getMaxEnergy(), player.energy + 500);
                updateUI();
                alert('‚úÖ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω! +500 —ç–Ω–µ—Ä–≥–∏–∏');
            }

            // ========== –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–Ø ==========
            function init() {
                player.energy = getMaxEnergy();
                updateUI();
                
                // –¢–∞–ø
                document.getElementById('tapButton').addEventListener('click', handleTap);
                
                // –†–µ—Ñ–µ—Ä–∞–ª
                document.getElementById('referralBtn').addEventListener('click', handleReferral);
                
                // –†–∞–Ω–≥ —ñ —Ä–µ—Ñ–µ—Ä–∞–ª–∏
                document.getElementById('rankCard').addEventListener('click', () => alert('üèÜ –†–∞–Ω–≥: –±—Ä–æ–Ω–∑–∞'));
                document.getElementById('referralsCard').addEventListener('click', () => alert(`üë• –†–µ—Ñ–µ—Ä–∞–ª—ã: ${player.referrals}`));
                
                // –ö–Ω–æ–ø–∫–∏ –ø–æ–∫—Ä–∞—â–µ–Ω—å
                document.getElementById('upgradeDamageBtn').addEventListener('click', () => buyUpgrade('damage'));
                document.getElementById('upgradeCapacityBtn').addEventListener('click', () => buyUpgrade('capacity'));
                document.getElementById('upgradeRecoveryBtn').addEventListener('click', () => buyUpgrade('recovery'));
                
                // –ö–Ω–æ–ø–∫–∏ –∑–∞–≤–¥–∞–Ω—å
                document.querySelector('[data-task="subscribe"]').addEventListener('click', () => doTask('subscribe'));
                document.querySelector('[data-task="ad"]').addEventListener('click', () => doTask('ad'));
                document.querySelector('[data-task="futures"]').addEventListener('click', () => doTask('futures'));
                
                // –†–µ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –µ–Ω–µ—Ä–≥—ñ—ó
                setInterval(() => {
                    const max = getMaxEnergy();
                    if (player.energy < max) {
                        player.energy = Math.min(max, player.energy + getRecovery());
                        updateUI();
                    }
                }, 1000);
            }

            init();
        })();
    </script>
</body>
</html>
